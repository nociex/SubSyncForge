[General]
# --- GENERAL based on Surge_2024.conf, adjusted ---
# Enhanced Wi-Fi Assist (Keep disabled as in surgemini)
# wifi-assist = true
# Hybrid Network
all-hybrid = false
# Gaming Optimization (Keep enabled as in surgemini)
udp-priority = true
# Latency Benchmark (Use surgemini URLs)
internet-test-url = http://connectivitycheck.platform.hicloud.com/generate_204
proxy-test-url = http://latency-test.skk.moe/endpoint
test-timeout = 15
# GeoIP Database (Use surgemini URL)
geoip-maxmind-url = https://github.com/xream/geoip/releases/latest/download/ipinfo.country.mmdb
disable-geoip-db-auto-update = false
ipv6 = false
# --- Wi-Fi ACCESS (Keep disabled as in surgemini) ---
allow-wifi-access = false
# Surge iOS - é»˜è®¤ HTTP ç«¯å£å·ï¼š6152ï¼ŒSOCKS5 ç«¯å£å·ï¼š6153
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# Surge Mac - é»˜è®¤ HTTP ç«¯å£å·ï¼š6152ï¼ŒSOCKS5 ç«¯å£å·ï¼š6153
http-listen = 0.0.0.0
socks5-listen = 0.0.0.0
# å…è®¸çƒ­ç‚¹å…±äº«
allow-hotspot-access = true
# --- REMOTE CONTROLLER (Add from surgemini modifications) ---
external-controller-access = YOUR_PASSWORD@0.0.0.0:6160
http-api = YOUR_PASSWORD@0.0.0.0:6166
http-api-tls = false
http-api-web-dashboard = true
# --- COMPATIBILITY (Use surgemini value) ---
compatibility-mode = 1
# è·³è¿‡ä»£ç† (Use surgemini list)
skip-proxy = 127.0.0.1, 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, iosapps.itunes.apple.com, seed-sequoia.siri.apple.com, sequoia.apple.com
exclude-simple-hostnames = true
# --- DNS (Use surgemini settings) ---
# The IP addresses of upstream DNS servers
dns-server = 223.5.5.5, 119.29.29.29
# read-etc-hosts = true # Keep disabled as in surgemini
# use-local-host-item-for-proxy = true # Keep disabled as in surgemini
encrypted-dns-server = https://i674435899.666.66a.net/dns-query/pure,https://223.5.5.5/dns-query,https://1.12.12.12/dns-query
doh-skip-cert-verification = true
# encrypted-dns-follow-outbound-mode = false
# include-all-networks = false
# --- ROUTING ---
# include-local-networks = false
loglevel = notify
# --- ADVANCED ---
show-error-page-for-reject = true
udp-policy-not-supported-behaviour = REJECT
ipv6-vif = disabled

[Ponte]
# æ­¤å¤„å°†ç”±è‡ªåŠ¨åŒ–è„šæœ¬å¡«å……

[Proxy]
# æ­¤å¤„å°†ç”±è‡ªåŠ¨åŒ–è„šæœ¬å¡«å……


[Proxy Group]
# ç­–ç•¥ç»„
ğŸ›« èŠ‚ç‚¹åˆ‡æ¢ = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT, include-all-proxies=1
ğŸŒˆ æ‰‹åŠ¨é€‰æ‹© = select, no-alert=0, hidden=0, include-all-proxies=1
ğŸ“² ç”µæŠ¥æ¶ˆæ¯ = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT
ğŸ§¬ OpenAi = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT
ğŸ“¹ æ²¹ç®¡è§†é¢‘ = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT
ğŸ¥ å¥ˆé£è§†é¢‘ = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT, include-all-proxies=1
ğŸ¬ è¿ªå£«å°¼+ = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT, include-all-proxies=1
ğŸ“¢ è°·æ­ŒFCM = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT
â“‚ï¸ å¾®è½¯æœåŠ¡ = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT
ğŸ è‹¹æœæœåŠ¡ = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT
ğŸ® æ¸¸æˆå¹³å° = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹", "ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹", "ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT
ğŸšˆ å…¨çƒç›´è¿ = select, DIRECT, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹"
ğŸ›‘ å¹¿å‘Šæ‹¦æˆª = select, REJECT, DIRECT
ğŸŒ€ æ¼ç½‘ä¹‹é±¼ = select, "ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹", "ğŸŒˆ æ‰‹åŠ¨é€‰æ‹©", "ğŸŒ å…¶ä»–èŠ‚ç‚¹", DIRECT
# åŒºåŸŸèŠ‚ç‚¹ç»„
ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹ = select, policy-regex-filter=(?=.*(æ¸¯|HK|Hong))^((?!(å°|æ—¥|éŸ©|æ–°|ç¾)).)*$, url=http://www.gstatic.com/generate_204, interval=300, include-all-proxies=1
ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹ = select, policy-regex-filter=(?=.*(ç¾|US|United States))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$, url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹ = select, policy-regex-filter=(?=.*(æ–°|ç‹®|ç…|SG|Singapore))^((?!(æ¸¯|å°|æ—¥|éŸ©|ç¾)).)*$, url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
ğŸŒ å…¶ä»–èŠ‚ç‚¹ = select, policy-regex-filter=^((?!(æ¸¯|HK|Hong|ç¾|US|United States|æ–°|ç‹®|ç…|SG|Singapore)).)*$, url=http://www.gstatic.com/generate_204, interval=300, tolerance=150
# è‡ªå»ºèŠ‚ç‚¹ç»„ï¼Œæ™ºèƒ½é€‰æ‹©
ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹ = select, url=http://www.gstatic.com/generate_204, interval=300, tolerance=150, include-all-proxies=1, evaluate-before-use=1, hidden=0
ğŸ  Home-LAN = select, DEVICE:M, DIRECT

[Rule]
DOMAIN-SUFFIX,sentry.io,"ğŸ§¬ OpenAi"
PROCESS-NAME,/Applications/wpsoffice.app/Contents/MacOS/wpsoffice,DIRECT
DOMAIN,timemachine.local,DEVICE:M
SUBNET,SSID:TV,"ğŸ  Home-LAN"
IP-CIDR,10.0.0.0/24,"ğŸ  Home-LAN",no-resolve
DOMAIN-SUFFIX,openrouter.ai,"ğŸ§¬ OpenAi"
DOMAIN,v3.paddleapi.com,REJECT
# DOMAIN,challenges.cloudflare.com,"ğŸ§¬ OpenAi"
# DOMAIN-SUFFIX,cursor.sh,"ğŸ§¬ OpenAi"
# DOMAIN-SUFFIX,nciex.com,DIRECT
DOMAIN-SUFFIX,hssq.cc,DIRECT
DOMAIN-SUFFIX,ldstatic.com,DIRECT
DOMAIN-SUFFIX,linux.do,DIRECT
# DOMAIN-SUFFIX,gdzwfw.gov.cn,DIRECT
DOMAIN-SUFFIX,szbdyd.com,REJECT
DOMAIN-SUFFIX,bilivideo.cn,REJECT
DOMAIN-SUFFIX,kg.qq.com,REJECT
DOMAIN-SUFFIX,p2ptun.qq.com,REJECT
DOMAIN-SUFFIX,xinqiucc.com,REJECT
DOMAIN-SUFFIX,kuiniuca.com,REJECT
DOMAIN-SUFFIX,dun.163.com,REJECT
PROTOCOL,STUN,REJECT
# Bobå®¢æˆ·ç«¯ç›´è¿
PROCESS-NAME,/Applications/Bob.app/Contents/MacOS/Bob,DIRECT
PROCESS-NAME,/Applications/ChatGPT.app/Contents/MacOS/ChatGPT,"ğŸ§¬ OpenAi"
PROCESS-NAME,/Applications/WeChat.app/Contents/MacOS/WeChat,DIRECT 
PROCESS-NAME,/Applications/wpsoffice.app/Contents/SharedSupport/wpscloudsvr.app/Contents/MacOS/wpscloudsvr,DIRECT
# é˜²æ­¢åº”ç”¨å¾ªç¯è¯·æ±‚
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
IP-CIDR,36.248.76.149/32,DIRECT,no-resolve
IP-CIDR,36.248.76.153/32,DIRECT,no-resolve
IP-CIDR,140.207.56.26/32,DIRECT,no-resolve 
DOMAIN,wxapp.tc.qq.com,DIRECT,extended-matching 
# > Apple Intelligence
DOMAIN-SUFFIX,apple-relay.apple.com,"ğŸ§¬ OpenAi"
DOMAIN-SUFFIX,apple-relay.cloudflare.com,"ğŸ§¬ OpenAi"
DOMAIN-KEYWORD,apple-relay,"ğŸ§¬ OpenAi"
# > TMDB
DOMAIN-SUFFIX,api.themoviedb.org,"ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹"
# > SUFFIX
DOMAIN-SUFFIX,nssurge.com,"ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹"
# > Safari é˜²è·³è½¬
DOMAIN,app-site-association.cdn-apple.com,REJECT
# > ban UDP on Youtube
AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP
# > ban National Anti-fraud Center
DOMAIN,prpr.96110.cn.com,DIRECT
DOMAIN-KEYWORD,96110,REJECT
DOMAIN-SUFFIX,gjfzpt.cn,REJECT
# > Vercel --> sub-store
RULE-SET,https://raw.githubusercontent.com/getsomecat/GetSomeCats/Surge/rule/substore.list,"ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹"
DOMAIN-SUFFIX,vercel.app,"ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹"


# --- AdBlock/Privacy Rules ---
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject.conf,REJECT,pre-matching,extended-matching
DOMAIN-SET,https://ruleset.skk.moe/List/domainset/reject_extra.conf,REJECT,pre-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject.conf,REJECT,pre-matching,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-no-drop.conf,REJECT-NO-DROP,pre-matching,extended-matching
RULE-SET,https://ruleset.skk.moe/List/non_ip/reject-drop.conf,REJECT-DROP,pre-matching
RULE-SET,https://ruleset.skk.moe/List/ip/reject.conf,REJECT-DROP
# > AdBlock Additional (bendusy)
# RULE-SET,https://raw.githubusercontent.com/bendusy/RulesForMe/main/rulesets/classical/BanAD.list,"ğŸ›‘ å¹¿å‘Šæ‹¦æˆª"
# RULE-SET,https://raw.githubusercontent.com/bendusy/RulesForMe/main/rulesets/classical/BanProgramAD.list,"ğŸ›‘ å¹¿å‘Šæ‹¦æˆª"
RULE-SET,https://raw.githubusercontent.com/bendusy/RulesForMe/main/rulesets/classical/ban_pcdn.list,"ğŸ›‘ å¹¿å‘Šæ‹¦æˆª"
RULE-SET,https://raw.githubusercontent.com/bendusy/RulesForMe/main/rulesets/classical/ad_all.list,"ğŸ›‘ å¹¿å‘Šæ‹¦æˆª"

# --- Direct Rules ---
# > Custom Direct (bendusy)
RULE-SET,https://raw.githubusercontent.com/bendusy/RulesForMe/main/rulesets/custom/argotunnel.list,"ğŸšˆ å…¨çƒç›´è¿"
RULE-SET,https://raw.githubusercontent.com/bendusy/RulesForMe/main/rulesets/custom/WeChat.list,"ğŸšˆ å…¨çƒç›´è¿"
# > Common Direct (bendusy)
RULE-SET,https://raw.githubusercontent.com/bendusy/RulesForMe/main/rulesets/classical/direct_all.list,"ğŸšˆ å…¨çƒç›´è¿"
# > China Domains (Using geosite)
RULE-SET,https://surge.bojin.co/geosite/cn,"ğŸšˆ å…¨çƒç›´è¿"
# > ASN China (VirgilClyne) - Commented out, replaced by geosite:cn for domains
RULE-SET,https://raw.githubusercontent.com/VirgilClyne/GetSomeFries/main/ruleset/ASN.China.list,"ğŸšˆ å…¨çƒç›´è¿"
# > Mail Direct
DOMAIN-SUFFIX,smtp,DIRECT
URL-REGEX,(Subject|HELO|SMTP),DIRECT

# --- Service Specific Rules ---
# > Apple (Using geosite)
RULE-SET,https://surge.bojin.co/geosite/apple,"ğŸ è‹¹æœæœåŠ¡"
# > Microsoft
RULE-SET,https://raw.githubusercontent.com/bendusy/RulesForMe/main/rulesets/classical/microsoft.list,"â“‚ï¸ å¾®è½¯æœåŠ¡"
# > Google & FCM
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/GoogleFCM.list,"ğŸ“¢ è°·æ­ŒFCM"
# > AI Services
RULE-SET,https://surge.bojin.co/geosite/openai,"ğŸ§¬ OpenAi"
RULE-SET,https://surge.bojin.co/geosite/anthropic,"ğŸ§¬ OpenAi"
# > Telegram
RULE-SET,https://surge.bojin.co/geosite/telegram,"ğŸ“² ç”µæŠ¥æ¶ˆæ¯"
RULE-SET,https://ruleset.skk.moe/List/ip/telegram_asn.conf,"ğŸ“² ç”µæŠ¥æ¶ˆæ¯"
# > YouTube
RULE-SET,https://surge.bojin.co/geosite/youtube,"ğŸ“¹ æ²¹ç®¡è§†é¢‘"
# > Netflix
RULE-SET,https://surge.bojin.co/geosite/netflix,"ğŸ¥ å¥ˆé£è§†é¢‘"
# > Disney+
RULE-SET,https://surge.bojin.co/geosite/disney,"ğŸ¬ è¿ªå£«å°¼+"
# > TVB
RULE-SET,https://raw.githubusercontent.com/bendusy/RulesForMe/main/rulesets/custom/tvb.list,"ğŸ•‹ è‡ªå»ºèŠ‚ç‚¹"
# > Gaming
RULE-SET,https://surge.bojin.co/geosite/steam,"ğŸ® æ¸¸æˆå¹³å°"
RULE-SET,https://surge.bojin.co/geosite/xbox,"ğŸ® æ¸¸æˆå¹³å°"
RULE-SET,https://surge.bojin.co/geosite/playstation,"ğŸ® æ¸¸æˆå¹³å°"
RULE-SET,https://surge.bojin.co/geosite/epicgames,"ğŸ® æ¸¸æˆå¹³å°"
RULE-SET,https://surge.bojin.co/geosite/ea,"ğŸ® æ¸¸æˆå¹³å°"
RULE-SET,https://surge.bojin.co/geosite/ubisoft,"ğŸ® æ¸¸æˆå¹³å°"
RULE-SET,https://surge.bojin.co/geosite/blizzard,"ğŸ® æ¸¸æˆå¹³å°"
# > Other Common Services (Proxy)
RULE-SET,https://surge.bojin.co/geosite/github,"ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹"
RULE-SET,https://surge.bojin.co/geosite/notion,"ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹"
RULE-SET,https://surge.bojin.co/geosite/paypal,"ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹"
RULE-SET,https://surge.bojin.co/geosite/slack,"ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹"
RULE-SET,https://surge.bojin.co/geosite/twitter,"ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹"
RULE-SET,https://surge.bojin.co/geosite/figma,"ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹"
# > Cryptocurrency
RULE-SET,https://surge.bojin.co/geosite/binance,"ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹"
RULE-SET,https://raw.githubusercontent.com/bendusy/RulesForMe/main/rulesets/geoip/ChinaCompanyIp.list,"ğŸšˆ å…¨çƒç›´è¿"
# --- Final Rules ---
GEOIP,CN,"ğŸšˆ å…¨çƒç›´è¿"
FINAL,ğŸŒ€ æ¼ç½‘ä¹‹é±¼,dns-failed

[Host]
dl.macked.homes = 172.67.165.80
*.taobao.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5
*.alipay.com = server:223.5.5.5
*.alicdn.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
*.jd.com = server:119.28.28.28
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
*.weixin.com = server:119.28.28.28
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
*.163.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
*testflight.apple.com = server:8.8.4.4
mtalk.google.com = 108.177.125.188
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
update.googleapis.com = server:119.29.29.29
amplifi.lan = server:syslib // Ubiquiti Amplifi Router
router.asus.com = server:syslib // Asus Router
www.miwifi.com = server:syslib // Xiaomi Mi WiFi Router
miwifi.com = server:syslib // Xiaomi Mi WiFi Router
mediarouter.home = server:syslib // Huawei Router
tplogin.cn = server:syslib // TP-Link Router
tplinklogin.net = server:syslib // TP-Link Router
melogin.cn = server:syslib // MERCURY Router
falogin.cn = server:syslib // FAST router

[MITM]
skip-server-cert-verify = true
h2 = true
hostname = www.google.cn, api.abema.io, *.zhihu.com, sub.store 
ca-passphrase = 
ca-p12 = 