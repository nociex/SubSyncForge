port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
experimental:
  ignore-resolve-fail: true
  # interface-name: en0

dns:
  enable: true
  ipv6: false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 119.29.29.29
    - 223.5.5.5
    - 8.8.8.8
  fallback:
    - tls://1.1.1.1:853
    - tls://dns.google:853
  fallback-filter:
    geoip: true
    ipcidr:
      - 240.0.0.0/4

tun:
  enable: true
  stack: system
  dns-hijack:
    - any:53
  auto-route: true
  auto-detect-interface: true

proxies:
  # ËäÇÁÇπ‰ø°ÊÅØ
{{proxies}}


# ÂàÜÁªÑÂõæÊ†á
proxy-groups:
  - name: È¶ôÊ∏ØËäÇÁÇπ
    type: select
    icon: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVR4nK2STUtCQRSGH9OyoqCwVYsSShIkIoiCtjWC+gsK2vQHWrQJWrSMcFW7/kGrWhVEq1Ba0T4IIoIgxD5BzW5xB86VFOvKhcOcmXnnee/MeQcKJBmYBZLAOfAKXGk9qdFFoKIQOAIsAbdAHsgAN8AWMAFUq98FTALrwLn6ZoELYBMYdcAZ/f4AMAtcA3mgDlgDjhVkHZj675QrJIHvgbfAG9AERAXNALYDngXa9Lxoz1iwKGA3UAfAogCpGn5f4iHQApS0j2gNaBGgW+ACIQk4D9Sqn9KZA+CjdOYAVPsANl8HpvRF4M5FHAduFNsHtI/Jf0IBIeAEuHIfWXjS2R5JQglQB9SoCRug0sVPyF1PgHGgWN51lTjsAzDr2jnl4q7JOXawIr/xfZ7ckuRHfxroiMJYAF7sbtN6GRhQJr3AFrClcWxZ+yGPZyUCzKklHy6fW2AHGAMqPMJ9ngnZe0L5jOrnuQE/fAJWJwrxAGDQmwAAAABJRU5ErkJggg==
    proxies: [Ëá™Âä®ÈÄâÊã©, DIRECT]

  - name: Âè∞ÊπæËäÇÁÇπ
    type: select
    icon: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVR4nGNgGFTAycHh/7K+vv/BbGcHBwaYOAM+sH///n9lLln/1+3e/X/dunVwNgMDA4OTg8N/JgYGBob1u3b9t7Cw+G9mZvY/MTHxf2Fh4f/s7Oz/KSkp/+Pi4v47ODj8X7t27X8GJgYGhv/79+//vmTJEhSNMJCTk/N/1apV3xkYGRkZJkyY8P/UqVP/L1++/P/ChQv/Dx06BNZsamo65UZ1ddZMTc3/0tLS/4ODg/97eXn9t7Oz+79lyxY4m4GBgWH//v3/8/PzPw66QAIAr7ZTDxF+qNkAAAAASUVORK5CYII=
    proxies: [Ëá™Âä®ÈÄâÊã©, DIRECT]

  - name: Êñ∞Âä†Âù°ËäÇÁÇπ
    type: select
    icon: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABUUlEQVR4nGNgGDTAxcUlramp6SiYzcrKysBIjOL9+/cfbOno/A8CLi4uB2Fihnl5/xsaGv7X19f/X1VV9b+iouJ/aWnp/8LCwv85OTn/U1NT/8fHx/93cXHZv3///v+M+/fvf3f//v33d+7cgXPatGn/nZ2d/5uYmPzX0dH5r6Ki8l9aWvp/QkLC/3Pnzv2/cePG/2vXrv2/fv36+/v37//PcOHChf+XLl36f/r06f9Hjhz5f+LEif9Hjx79f/jw4f+7d+/+v2vXrvdlJiaztvb0ZG0dOTJr64QJWVsnTsz6v3dv1osXL7KeP3/++NGjR48ZLly48P/ixYv/T506hWJARkbGfy8vr/+2trb/LS0t/5uamv7X09P7r6am9l9RUXH/hQsXwGwGBgaG/fv3/09KSnrnHRr60cvbe7uXl9cWLy+vTV5eXhu9vLw2eHl5rR+oQAIAFl+iMXLHwnQAAAAASUVORK5CYII=
    proxies: [Ëá™Âä®ÈÄâÊã©, DIRECT]

  - name: ÁæéÂõΩËäÇÁÇπ
    type: select
    icon: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAABYUlEQVR4nGNgQANODg7/7yxb9j8hISFDW1v7tbaGxmVtbe0d2traK7W1tRdqa2tP0tbWbggJCfG3s7NjYHRxcfm/vmfZ/7qaOTCNJ3Zu+38aCZzav/1/akrSNCYXF5f/mxcu+l9bO+e/p6cnTOF/JLB2Tfv/6JiY/wwMDAxMBw4c+L9q1ar/aWlpYM3V1dX/XV1d/2/evPn/ly9f/n///v3/r1+//n/58uX/e0+e/D9z6NT/pqb5/2/fvv2f4ciRI//nzZv3PyIiAqz59OnT/12c7P9/+PDh/7t37/6/fPny/+PHj//fvXv3/3Pnzv0/fPjw/x07dvyvqKj5v2TJkv8MFy5c+H/s2LH/3t7ecAM+ffoEVvzx48f/b9++/f/kyZP/Dx069P/AgQP/9+3b93/Hjh3/N27c+L+iooorw/79+/+XlpZ+9vX1feTl5XXfy8vrope0zFknJ6cFnp6elV5eXq4DFUgAMbXYIihghScAAAAASUVORK5CYII=
    proxies: [Ëá™Âä®ÈÄâÊã©, DIRECT]

  - name: Êó•Êú¨ËäÇÁÇπ
    type: select
    icon: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA40lEQVR4nGNgoBAw4pK0s7P7v2zZsv9xnp7/9+/fv9/FxeU/AwMDAxMuRfv37/9fMGPm/xhPz//btm37v27duvdOTk7/GRgYGBixKdq/f///ytbW/7Genr/R+CBgZ2f3n4GBgYERXXL//v3/+3Ly/sd7e38qKSv7D1MMYqO7AkUCZEBDR/v/GE/PTy0tPf9X3rn7/8KFC/+X37nzv2vFyv/2wUH/o6Ii/m/cuPF/dXX1f0ZkzWfOnPkf4+n5qXPW7P8Xzp//X9/R/r+wvvH/+zev/z9/8fL/unXr/jMQA+Sk0QE1AAAfQMjVQbw9MgAAAABJRU5ErkJggg==
    proxies: [Ëá™Âä®ÈÄâÊã©, DIRECT]

  - name: ÂÖ∂‰ªñËäÇÁÇπ
    type: select
    icon: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA7klEQVR4nO2QzwpBURTGf9c/GVgZmFApKwuPYCMPYGHjBaxsZOEZlJ2FspKNZ1DKzsZshvPdyiADXPOt7j33/r5zvu+cC3+UIz+/LPPtLqmtvaXdgaqTx7I7CGlhY2qQC9U58wDe1+I6nxYhYHQUcn1yYBoqYG4tLoUylfn2GrQCE7PTB6k1WNt3HgQj0zXb7w1g8CFLQNE0JoPJrMbepQ6BRKZGNl4G4GANvGVPQR3dg3PpCkFhFUPttkdY8i3jNPTkS0YOLPF+/4SQ77O6yE3Ir0G8FjKHQiYQsrMGrx1cKm2QXvIzyqPz8+/yCp2YPipb1wLSAAAAAElFTkSuQmCC
    proxies: [Ëá™Âä®ÈÄâÊã©, DIRECT]

  - name: OpenAI
    type: select
    icon: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAyklEQVR4nGNgoBAwwhjs37//f3h4+H8QG5ccIy5NgYGB/0F0WFjYZgYGBob9+/fjNACmMSAgYIatra2qs7PzfwYGBoZly5bhdwaIBjGsra3/g9ggA0AMnAaAFIBokAEgA2AAZAhOL4A0hoaGgsVRDMDlBZgGmGaYZrjmuLi4/5GRkShsrC6AOQOmGa4ZyM7Pz/+fkZHxPzEx8X9UVNTnuLi4/+Hh4f9BbGdn5/4BiyQQgMUJiA0KqICAgNNOTk4bQGyY3EBE5sCXTQCZjnb7Fu+HhAAAAABJRU5ErkJggg==
    proxies: [ÁæéÂõΩËäÇÁÇπ, DIRECT]

  - name: Disney+
    type: select
    icon: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8ElEQVR4nO3Tv0oDQRDH8Q/GIEQF/4AovoCFja1vYmdjIVj4DlaCjVhaiCAGOTAQCxFFEBILQbiQlEJII0SEwLKWY1i5jWKrfjsz+5v5zeyuUgENfHZwjD38pJRJVVDHKu6iURtDPKE7T6AfDVbwghdsd3CGQzziPZJtYBUL2AtfpdcLnGI91z/LiHcwSMIqPnLnT9jCWWR0iAoWsZniYDM3OAntWj6bLRxE8j6e8T3jUBEjdLGUuniD58zcQhqt0YjgIMa7aaKoYhBaP+HkH80TnUcpFHWvYymtREVF4j0s40bbubPCvv/gCtcFWv8CdmJox76H/MkAAAAASUVORK5CYII=
    proxies: [È¶ôÊ∏ØËäÇÁÇπ, Êñ∞Âä†Âù°ËäÇÁÇπ, DIRECT]

  - name: Netflix
    type: select
    icon: data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA0klEQVR4nGNgoAR0lLZMLijJ24FFLkZjrQtDc4T6fwYGBgbG/fv3/w8JCfmPTbKpovl/c4T6/7yisv9tbW3/P3/+/L+xsfF/dXX1fyMjo/8ODg7/LS0t/2tpaf0vLi7+X1ZW9j0jI+M/EwMDA8O7d+/+Kyoq/u/s7Pz//v17sIa/f//+//v37/+fP3/+//37F8wHsUFiILn9+/f/Z0I3pbOzEyyJbAAuNl4XjBowarBGDIqX0DWAQFdX13+XgNr/IPDu3Tssg4sRlw19+/b5QFIyBQDl9JFjj/fvywAAAABJRU5ErkJggg==
    proxies: [È¶ôÊ∏ØËäÇÁÇπ, Êñ∞Âä†Âù°ËäÇÁÇπ, Âè∞ÊπæËäÇÁÇπ, DIRECT]


rule-providers:
  reject:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt"
    path: ./ruleset/reject.yaml
    interval: 86400

  icloud:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt"
    path: ./ruleset/icloud.yaml
    interval: 86400

  apple:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt"
    path: ./ruleset/apple.yaml
    interval: 86400

  google:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt"
    path: ./ruleset/google.yaml
    interval: 86400

  proxy:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt"
    path: ./ruleset/proxy.yaml
    interval: 86400

  direct:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt"
    path: ./ruleset/direct.yaml
    interval: 86400

  private:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt"
    path: ./ruleset/private.yaml
    interval: 86400

  gfw:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt"
    path: ./ruleset/gfw.yaml
    interval: 86400

  greatfire:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/greatfire.txt"
    path: ./ruleset/greatfire.yaml
    interval: 86400

  tld-not-cn:
    type: http
    behavior: domain
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt"
    path: ./ruleset/tld-not-cn.yaml
    interval: 86400

  telegramcidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt"
    path: ./ruleset/telegramcidr.yaml
    interval: 86400

  cncidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt"
    path: ./ruleset/cncidr.yaml
    interval: 86400

  lancidr:
    type: http
    behavior: ipcidr
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt"
    path: ./ruleset/lancidr.yaml
    interval: 86400

  applications:
    type: http
    behavior: classical
    url: "https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt"
    path: ./ruleset/applications.yaml
    interval: 86400

rules:
  - RULE-SET,applications,DIRECT
  - DOMAIN,clash.razord.top,DIRECT
  - DOMAIN,yacd.haishan.me,DIRECT
  - DOMAIN-SUFFIX,openrouter.ai,üß¨ OpenAi
  - RULE-SET,reject,üõë ÂπøÂëäÊã¶Êà™
  - RULE-SET,icloud,üçé ËãπÊûúÊúçÂä°
  - RULE-SET,apple,üçé ËãπÊûúÊúçÂä°
  - RULE-SET,google,üì¢ Ë∞∑Ê≠åFCM
  - RULE-SET,proxy,üõ´ ËäÇÁÇπÂàáÊç¢
  - RULE-SET,direct,üöà ÂÖ®ÁêÉÁõ¥Ëøû
  - RULE-SET,private,DIRECT
  - RULE-SET,telegramcidr,üì≤ ÁîµÊä•Ê∂àÊÅØ
  - GEOIP,CN,üöà ÂÖ®ÁêÉÁõ¥Ëøû
  - MATCH,üåÄ ÊºèÁΩë‰πãÈ±º
